webpackJsonp([5],{XBLz:function(t,e){},"sWj/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("4YfN"),o=a.n(n),s=(a("igES"),a("XBLz"),a("UC6W")),r=a("9rMa"),i=a("gyMJ");a("MVMM").default.component("Button",s.Button);var c={components:{Row:s.Row,Col:s.Col,Menu:s.Menu,DropdownMenu:s.DropdownMenu,DropdownItem:s.DropdownItem,Breadcrumb:s.Breadcrumb,BreadcrumbItem:s.BreadcrumbItem,Card:s.Card,Dropdown:s.Dropdown,Icon:s.Icon,Submenu:s.Submenu,MenuItem:s.MenuItem,Button:s.Button,Avatar:s.Avatar},data:function(){return{userInfo:{},fold:this.$store.getters.getMenu.fold,menu:[{name:"控制台",path:"/home",icon:"home"},{name:"内容管理",path:"/content/list",icon:"document"},{name:"页面管理",path:"/page/list",icon:"ios-paper"},{name:"评论管理",path:"/comment/list",icon:"chatbubbles"},{name:"分类管理",path:"/category/list",icon:"shuffle"},{name:"标签管理",path:"/tag/list",icon:"pricetags"},{name:"系统设置",path:"/config",icon:"ios-gear"}]}},computed:o()({iconSize:function(){return this.fold?24:14},breadcrumb:function(){var t=this.route.path.split("/"),e={admin:"后台",home:"控制台",content:"内容",category:"分类",page:"页面",comment:"评论",tag:"标签",save:"编辑",list:"列表",config:"设置"},a=[];for(var n in t){var o=t[n];o&&a.push(e[o]?e[o]:"")}return a}},Object(r.c)({route:function(t){return t.route}})),mounted:function(){this.getUserInfo()},methods:{getUserInfo:function(){var t=this;i.h.getInfo(this.$store.state.admin.user.name).then(function(e){t.$store.commit("setUserInfo",e.data),t.userInfo=e.data})},toggleClick:function(){this.fold=!this.fold,this.$store.commit("setMenuFlod",this.fold)},select:function(t){this.$router.push(t)},loginOut:function(){this.$store.commit("clearToken"),this.$router.push("/login")},dropdownClick:function(t){"loginOut"===t&&this.loginOut(),"userInfo"===t&&this.$router.push("/user/info"),"changePassword"===t&&this.$router.push("/user/password")}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout",class:{"layout-hide-text":t.fold},attrs:{id:"admin"}},[a("Row",{staticClass:"admin",attrs:{type:"flex"}},[a("Col",{staticClass:"layout-menu-left",attrs:{span:t.fold?1:3}},[a("Menu",{attrs:{"active-name":"1",theme:"dark",width:"auto","active-name":t.route.path},on:{"on-select":t.select}},[a("div",{staticClass:"layout-logo-left"}),t._v(" "),t._l(t.menu,function(e){return[e.children?a("Submenu",{attrs:{name:e.path}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:e.icon,size:t.iconSize}}),t._v(" "),a("span",{staticClass:"layout-text"},[t._v(t._s(e.name))])],1),t._v(" "),t._l(e.children,function(e){return a("MenuItem",{attrs:{name:e.path}},[a("Icon",{attrs:{type:e.icon,size:t.iconSize}}),t._v(" "),a("span",{staticClass:"layout-text"},[t._v(t._s(e.name))])],1)})],2):t._e(),t._v(" "),e.children?t._e():a("MenuItem",{attrs:{name:e.path}},[a("Icon",{attrs:{type:e.icon,size:t.iconSize}}),t._v(" "),a("span",{staticClass:"layout-text"},[t._v(t._s(e.name))])],1)]})],2)],1),t._v(" "),a("Col",{staticClass:"layout-rignt",attrs:{span:t.fold?23:21}},[a("div",{staticClass:"layout-header"},[a("Row",[a("Col",{staticClass:"layout-header-left",attrs:{span:"12"}},[a("Button",{attrs:{type:"text"},on:{click:t.toggleClick}},[a("Icon",{attrs:{type:"navicon",size:"32"}})],1)],1),t._v(" "),a("Col",{staticClass:"layout-header-right",attrs:{span:"12"}},[a("a",{staticClass:"home",attrs:{target:"_blank",href:"/"}},[a("Icon",{attrs:{type:"home"}})],1),t._v(" "),a("Dropdown",{attrs:{trigger:"click"},on:{"on-click":t.dropdownClick}},[a("a",{attrs:{href:"javascript:void(0)"}},[t._v("\n                                "+t._s(t.userInfo.username)+"\n                                "),a("Icon",{attrs:{type:"arrow-down-b"}})],1),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"userInfo"}},[t._v("个人资料")]),t._v(" "),a("DropdownItem",{attrs:{name:"changePassword"}},[t._v("修改密码")]),t._v(" "),a("DropdownItem",{attrs:{name:"loginOut"}},[t._v("退出后台")])],1)],1),t._v(" "),a("Avatar",{attrs:{src:t.userInfo.avator,size:"large"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"layout-breadcrumb"},[a("Breadcrumb",[t.breadcrumb[0]?a("BreadcrumbItem",[t._v(t._s(t.breadcrumb[0]))]):t._e(),t._v(" "),t.breadcrumb[1]?a("BreadcrumbItem",[t._v(t._s(t.breadcrumb[1]))]):t._e(),t._v(" "),t.breadcrumb[2]?a("BreadcrumbItem",[t._v(t._s(t.breadcrumb[2]))]):t._e()],1)],1),t._v(" "),a("div",{staticClass:"layout-content"},[a("div",{staticClass:"layout-content-main"},[a("router-view")],1)])])],1)],1)},staticRenderFns:[]},l=a("Z0/y")(c,u,!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=5.20e7e28be7958f964c83.js.map